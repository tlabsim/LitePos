<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LitePOS ‚Äî BDT</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Core stylesheet -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div id="app" class="app-shell">
    <!-- APP HEADER -->
    <header class="app-header">
        <div class="logo-block">
            <div class="logo-mark">
                <span>‡ß≥</span>
            </div>
            <div class="logo-text">
                <div class="logo-title" id="header-shop-name">
                    LitePOS
                </div>
                <div class="logo-sub" id="header-shop-address">
                    Bangla POS ¬∑ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ
                </div>
            </div>
        </div>
        <div class="header-right">
            <div class="header-shop-meta">
                <span id="header-shop-phone"></span>
            </div>
            <div class="pill session-pill" id="header-session-pill">
                <span class="pill-dot"></span>
                <span id="header-user-label">Not signed in</span>
                <span class="pill-role" id="header-user-role"></span>
            </div>
            <button id="btn-logout" class="btn btn-ghost btn-lg" type="button">
                ‚éã Logout
            </button>
        </div>
    </header>

    <!-- LOGIN / SETUP SCREEN -->
    <section id="login-screen" class="center-screen">
        <div class="card card-large">
            <div class="card-header">
                <h1 class="card-title">
                    POS Sign-in
                    <span class="subheader-bn">¬∑ ‡¶≤‡¶ó‡¶á‡¶®</span>
                </h1>                
            </div>
            <div class="card-body" id="login-panel">
                <!-- SUPERADMIN SETUP (first run) -->
                <div id="setup-panel" class="stack-gap hidden">
                    <div class="banner banner-accent">
                        <strong>Initial setup ¬∑ ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡¶¨‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™</strong><br>
                        Create a <strong>Superadmin</strong> account to manage shop, users &amp; backup.
                    </div>
                    <div class="two-col">
                        <div class="field">
                            <label class="field-label">Superadmin Name</label>
                            <input type="text" id="setup-name" class="field-input" placeholder="Your name" autocomplete="off">
                        </div>
                        <div class="field">
                            <label class="field-label">Username</label>
                            <input type="text" id="setup-username" class="field-input" placeholder="e.g. admin" autocomplete="off">
                        </div>
                    </div>
                    <div class="two-col">
                        <div class="field">
                            <label class="field-label">PIN (4‚Äì6 digits)</label>
                            <input type="password" id="setup-pin" class="field-input" maxlength="6" placeholder="e.g. 1234" inputmode="numeric" autocomplete="off">
                        </div>
                        <div class="field">
                            <label class="field-label">Confirm PIN</label>
                            <input type="password" id="setup-pin-confirm" class="field-input" maxlength="6" placeholder="Repeat PIN" inputmode="numeric" autocomplete="off">
                        </div>
                    </div>
                    <button id="btn-setup-create" class="btn btn-primary btn-xl" type="button">
                        ‚úî Create Superadmin
                    </button>
                </div>

                <!-- NORMAL LOGIN (when users exist) -->
                <div id="signin-panel" class="stack-gap">
                    <div class="field">
                        <label class="field-label">
                            User ¬∑ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ
                        </label>
                        <select id="login-user" class="field-input">
                            <!-- Filled by JS -->
                        </select>
                    </div>
                    <div class="field">
                        <label class="field-label">
                            PIN ¬∑ ‡¶™‡¶ø‡¶®
                        </label>
                        <input type="password" id="login-pin" class="field-input" maxlength="6" placeholder="Enter PIN" inputmode="numeric" autocomplete="off">
                    </div>
                    <button id="btn-login" class="btn btn-primary btn-xl" type="button">
                        ‚ûú Enter POS ¬∑ ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®
                    </button>
                    <div class="hint-row">
                        <span class="hint-text">
                            Keyboard: <code>Enter</code> to login
                        </span>
                    </div>
                    <p class="card-sub">
                        Local browser-based POS. ‡¶∏‡¶¨ ‡¶°‡ßá‡¶ü‡¶æ ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶è‡¶á ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá (LocalStorage).
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- MAIN POS SCREEN -->
    <section id="main-screen" class="hidden main-layout">
        <!-- TOP NAV TABS -->
        <nav class="nav-tabs">
            <button class="nav-btn nav-btn-active" data-tab="tab-sale">
                <span>POS</span>
                <span class="sub">‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü (Alt+1)</span>
            </button>
            <button class="nav-btn" data-tab="tab-customers">
                <span>Customers</span>
                <span class="sub">‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï (Alt+2)</span>
            </button>
            <button class="nav-btn" data-tab="tab-products">
                <span>Products</span>
                <span class="sub">‡¶™‡¶£‡ßç‡¶Ø (Alt+3)</span>
            </button>
            <button class="nav-btn" data-tab="tab-sales">
                <span>Sales</span>
                <span class="sub">‡¶∏‡¶¨ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü (Alt+4)</span>
            </button>
            <button class="nav-btn" data-tab="tab-reports">
                <span>Reports</span>
                <span class="sub">‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü (Alt+5)</span>
            </button>
            <button class="nav-btn nav-admin-only" data-tab="tab-admin">
                <span>Admin</span>
                <span class="sub">‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ¬∑ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ (Alt+6)</span>
            </button>
        </nav>

        <!-- TAB: POS SALE -->
        <div id="tab-sale" class="tab-content">
            <div class="grid-main">
                <!-- LEFT: CUSTOMER & CART -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">
                            New Sale
                            <span class="subheader-bn">¬∑ ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü</span>
                        </h2>
                        <p class="card-sub">
                            Phone-first flow ¬∑ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶ß‡¶∞‡ßá ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶® ‡¶¨‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
                        </p>
                    </div>
                    <div class="card-body stack-gap">
                        <!-- Steps indicator -->
                        <div class="step-strip">
                            <span class="step-pill">Step 1 ¬∑ ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø</span>
                            <span class="step-pill">Step 2 ¬∑ ‡¶™‡¶£‡ßç‡¶Ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®</span>
                            <span class="step-pill">Step 3 ¬∑ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü</span>
                        </div>

                        <!-- Customer row -->
                        <div class="two-col big-gap">
                            <div>
                                <label class="field-label">
                                    Customer Phone ¬∑ ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï‡ßá‡¶∞ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤
                                    <span class="label-hotkey">(Alt+F)</span>
                                </label>
                                <div class="input-row">
                                    <input id="sale-customer-phone" type="tel" class="field-input"
                                           placeholder="e.g. 017XXXXXXXX" inputmode="tel" autocomplete="off">
                                    <button id="btn-search-customer" class="btn btn-ghost btn-lg" type="button">
                                        üîç Search
                                    </button>
                                </div>
                                <div class="hint-row">
                                    <span class="hint-text">
                                        Enter phone ‚Üí Search. If not found, use Quick Add.
                                    </span>
                                </div>
                            </div>
                            <div>
                                <label class="field-label">
                                    Customer Name ¬∑ ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ
                                </label>
                                <input id="sale-customer-name" type="text" class="field-input"
                                       placeholder="Auto or type name" autocomplete="off">
                            </div>
                        </div>

                        <!-- Summary + Quick Add -->
                        <div class="two-col big-gap">
                            <div class="summary-card">
                                <div class="summary-header">
                                    <span>Current customer ¬∑ ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï</span>
                                    <button id="btn-clear-customer" class="btn btn-ghost btn-md" type="button">
                                        ‚úï Clear
                                    </button>
                                </div>
                                <div class="summary-main" id="summary-customer-name">Not selected</div>
                                <div class="summary-meta" id="summary-customer-meta">Phone ¬∑ ‚Äî</div>
                                <div class="summary-meta" id="summary-customer-status">Status ¬∑ New</div>
                            </div>
                            <div class="quick-add-box">
                                <div class="quick-add-header">
                                    <strong>Quick add ¬∑ ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</strong>
                                </div>
                                <div class="two-col">
                                    <input id="quick-customer-name" type="text"
                                           class="field-input field-input-sm"
                                           placeholder="Name ¬∑ ‡¶®‡¶æ‡¶Æ" autocomplete="off">
                                    <input id="quick-customer-notes" type="text"
                                           class="field-input field-input-sm"
                                           placeholder="Notes ¬∑ ‡¶®‡ßã‡¶ü (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)" autocomplete="off">
                                </div>
                                <div class="quick-add-footer">
                                    <button id="btn-save-quick-customer" class="btn btn-accent btn-lg" type="button">
                                        + Save customer
                                    </button>
                                    <span class="hint-text">
                                        Phone will use value typed above.
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- Products & Cart -->
                        <div class="two-col big-gap">
                            <!-- Product search -->
                            <div>
                                <div class="section-header">
                                    <span class="section-title">
                                        Products ¬∑ ‡¶™‡¶£‡ßç‡¶Ø (Alt+P)
                                    </span>
                                    <span class="section-sub">
                                        Tap row or press Enter to add.
                                    </span>
                                </div>
                                <input id="product-search" type="text" class="field-input"
                                       placeholder="Search by name or SKU... (Alt+P)" autocomplete="off">
                                <div class="table-wrapper table-large">
                                    <table>
                                        <thead>
                                        <tr>
                                            <th style="width: 40%;">Product</th>
                                            <th>SKU</th>
                                            <th>Sell (‡ß≥)</th>
                                            <th>Stock</th>
                                            <th></th>
                                        </tr>
                                        </thead>
                                        <tbody id="product-table-body">
                                        <!-- Filled by JS -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            <!-- Cart -->
                            <div>
                                <div class="section-header">
                                    <span class="section-title">
                                        Cart ¬∑ ‡¶ï‡¶æ‡¶∞‡ßç‡¶ü
                                    </span>
                                    <span class="section-sub">
                                        Current sale
                                    </span>
                                </div>
                                <div class="table-wrapper table-large">
                                    <table>
                                        <thead>
                                        <tr>
                                            <th style="width: 38%;">Item</th>
                                            <th>Qty</th>
                                            <th>Price</th>
                                            <th>Total</th>
                                            <th></th>
                                        </tr>
                                        </thead>
                                        <tbody id="cart-table-body">
                                        <!-- Filled by JS -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Sale actions -->
                        <div class="sale-control-row">
                            <div class="open-sales-strip">
                                <div class="section-header">
                                    <span class="section-title">Open sales ¬∑ ‡¶ö‡¶≤‡¶Æ‡¶æ‡¶® ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü</span>
                                    <span class="section-sub">Tap to resume</span>
                                </div>
                                <div id="open-sales-list" class="open-sales-list">
                                    <!-- JS fills open sales pills -->
                                </div>
                            </div>
                            <div class="sale-buttons">
                                <button id="btn-new-sale" class="btn btn-ghost btn-xl" type="button">
                                    ‚ü≥ New sale (Alt+N)
                                </button>
                                <button id="btn-hold-sale" class="btn btn-accent btn-xl" type="button">
                                    ‚è∏ Hold / Save Open (Alt+H)
                                </button>
                                <button id="btn-cancel-sale" class="btn btn-ghost btn-xl" type="button">
                                    ‚úï Cancel Open
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- RIGHT: TOTALS / PAYMENT / RECEIPT -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">
                            Payment &amp; Summary
                            <span class="subheader-bn">¬∑ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂</span>
                        </h2>
                        <p class="card-sub">
                            Discounts, payment and change. Keyboard: Alt+C to complete.
                        </p>
                    </div>
                    <div class="card-body stack-gap">
                        <div class="two-col">
                            <div class="totals-box">
                                <div class="totals-row">
                                    <span>Subtotal</span>
                                    <span id="summary-subtotal" class="money">‡ß≥ 0.00</span>
                                </div>
                                <div class="totals-row">
                                    <span>Discount (‡ß≥)</span>
                                    <input id="input-discount" type="number" class="field-input field-input-sm"
                                           value="0" min="0" step="1">
                                </div>
                                <div class="totals-row totals-row-strong">
                                    <span>Total Payable ¬∑ ‡¶Æ‡ßã‡¶ü</span>
                                    <span id="summary-total" class="money totals-main">‡ß≥ 0.00</span>
                                </div>
                                <div class="totals-row">
                                    <span>Items in cart</span>
                                    <span id="summary-items-count">0</span>
                                </div>
                            </div>
                            <div class="totals-box">
                                <div class="totals-row">
                                    <span>Payment received ¬∑ ‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶§</span>
                                    <input id="input-payment" type="number" class="field-input field-input-sm"
                                           value="0" min="0" step="1">
                                </div>
                                <div class="totals-row">
                                    <span>Change ¬∑ ‡¶´‡ßá‡¶∞‡¶§</span>
                                    <span id="summary-change" class="money">‡ß≥ 0.00</span>
                                </div>
                                <div class="totals-row">
                                    <span>Sale status</span>
                                    <span id="summary-sale-status">New</span>
                                </div>
                            </div>
                        </div>

                        <div class="sale-actions-bottom">
                            <button id="btn-complete-sale" class="btn btn-primary btn-xxl" type="button">
                                ‚úî Complete &amp; Close Sale (Alt+C)
                            </button>
                            <button id="btn-clear-cart" class="btn btn-ghost btn-xl" type="button">
                                üßπ Clear cart
                            </button>
                        </div>

                        <div class="receipt-actions">
                            <div class="field">
                                <label class="field-label">Receipt size ¬∑ ‡¶∞‡¶ø‡¶∏‡¶ø‡¶™‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú</label>
                                <select id="receipt-size" class="field-input field-input-sm">
                                    <option value="a4">A4 (‡¶´‡ßÅ‡¶≤ ‡¶∏‡¶æ‡¶á‡¶ú)</option>
                                    <option value="80mm">80mm roll</option>
                                    <option value="58mm">58mm roll</option>
                                </select>
                            </div>
                            <button id="btn-print-last-receipt" class="btn btn-ghost btn-xl" type="button">
                                üñ® Print last receipt (Alt+R)
                            </button>
                        </div>

                        <div class="summary-card small">
                            <div class="summary-header">
                                <span>Today snapshot ¬∑ ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂</span>
                                <span id="today-summary-small" class="summary-meta">‚Äî</span>
                            </div>
                            <div class="summary-meta">
                                Salesperson: <span id="today-salesperson-name">‚Äî</span><br>
                                Last sale: <span id="today-last-sale">‚Äî</span>
                            </div>
                        </div>

                        <div class="keyboard-help">
                            <h3>Keyboard shortcuts</h3>
                            <ul>
                                <li>Alt+1..6: Switch tabs (POS, Customers, Products, Sales, Reports, Admin)</li>
                                <li>Alt+F: Focus customer phone</li>
                                <li>Alt+P: Focus product search</li>
                                <li>Alt+N: New sale</li>
                                <li>Alt+H: Hold / save open sale</li>
                                <li>Alt+C: Complete sale</li>
                                <li>Alt+R: Print last receipt</li>
                                <li>Esc: Close popups / blur field</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- HIDDEN RECEIPT (for printing) -->
            <div id="receipt-print" class="receipt-print">
                <div class="receipt-inner">
                    <h2 id="receipt-shop-name">Shop Name</h2>
                    <div id="receipt-shop-address">Address</div>
                    <div id="receipt-shop-phone">Phone</div>
                    <hr>
                    <div id="receipt-sale-meta"></div>
                    <table class="receipt-table">
                        <thead>
                        <tr>
                            <th>Item</th>
                            <th>Qty</th>
                            <th>Price</th>
                            <th>Total</th>
                        </tr>
                        </thead>
                        <tbody id="receipt-items-body"></tbody>
                    </table>
                    <hr>
                    <div class="receipt-totals">
                        <div><span>Subtotal</span><span id="receipt-subtotal"></span></div>
                        <div><span>Discount</span><span id="receipt-discount"></span></div>
                        <div><span>Total</span><span id="receipt-total"></span></div>
                        <div><span>Payment</span><span id="receipt-payment"></span></div>
                        <div><span>Change</span><span id="receipt-change"></span></div>
                    </div>
                    <p class="receipt-note">‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶! ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶∏‡¶¨‡ßá‡¶®‡•§</p>
                </div>
            </div>
        </div>

        <!-- TAB: CUSTOMERS -->
        <div id="tab-customers" class="tab-content hidden">
            <div class="grid-two">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">
                            Customers
                            <span class="subheader-bn">¬∑ ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ</span>
                        </h2>
                        <p class="card-sub">
                            Phone-centered customer management. ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡ßü‡ßá ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®‡•§
                        </p>
                    </div>
                    <div class="card-body stack-gap">
                        <div class="filter-row">
                            <input id="customer-search" type="text" class="field-input"
                                   placeholder="Search by name or phone..." autocomplete="off">
                        </div>
                        <div class="table-wrapper">
                            <table>
                                <thead>
                                <tr>
                                    <th style="width: 32%;">Name</th>
                                    <th style="width: 22%;" class="center">Phone</th>
                                    <th>Notes</th>
                                    <th style="width: 20%;">Last sale</th>
                                </tr>
                                </thead>
                                <tbody id="customers-table-body">
                                <!-- Filled by JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">
                            Edit Customer
                            <span class="subheader-bn">¬∑ ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶∏‡¶Æ‡ßç‡¶™‡¶æ‡¶¶‡¶®‡¶æ</span>
                        </h2>
                        <p class="card-sub">
                            Tap a row to load. Saving uses phone as unique key.
                        </p>
                    </div>
                    <div class="card-body stack-gap">
                        <div class="two-col">
                            <div class="field">
                                <label class="field-label">Name</label>
                                <input id="customer-edit-name" type="text" class="field-input" autocomplete="off">
                            </div>
                            <div class="field">
                                <label class="field-label">Phone</label>
                                <input id="customer-edit-phone" type="tel" class="field-input" autocomplete="off">
                            </div>
                        </div>
                        <div class="field">
                            <label class="field-label">Notes</label>
                            <input id="customer-edit-notes" type="text" class="field-input" autocomplete="off">
                        </div>
                        <div class="input-row">
                            <button id="btn-save-customer-edit" class="btn btn-primary btn-xl" type="button">
                                üíæ Save customer
                            </button>
                            <button id="btn-new-customer" class="btn btn-ghost btn-xl" type="button">
                                + New
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB: PRODUCTS -->
        <div id="tab-products" class="tab-content hidden">
            <div class="grid-two">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">
                            Products
                            <span class="subheader-bn">¬∑ ‡¶™‡¶£‡ßç‡¶Ø‡¶∏‡¶Æ‡ßÇ‡¶π</span>
                        </h2>
                        <p class="card-sub">
                            Buying price, selling price, stock &amp; low-stock warnings.
                        </p>
                    </div>
                    <div class="card-body stack-gap">
                        <div class="filter-row">
                            <input id="product-manage-search" type="text" class="field-input"
                                   placeholder="Search by name or SKU..." autocomplete="off">
                        </div>
                        <div class="table-wrapper">
                            <table>
                                <thead>
                                <tr>
                                    <th style="width: 30%;">Name</th>
                                    <th>SKU</th>
                                    <th>Buy (‡ß≥)</th>
                                    <th>Sell (‡ß≥)</th>
                                    <th>Stock</th>
                                    <th>Low?</th>
                                </tr>
                                </thead>
                                <tbody id="products-table-body">
                                <!-- Filled by JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">
                            Add / Edit Product
                            <span class="subheader-bn">¬∑ ‡¶™‡¶£‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó/‡¶∏‡¶Æ‡ßç‡¶™‡¶æ‡¶¶‡¶®‡¶æ</span>
                        </h2>
                        <p class="card-sub">
                            Tap a product row to load. Use SKU as unique identifier.
                        </p>
                    </div>
                    <div class="card-body stack-gap">
                        <div class="two-col">
                            <div class="field">
                                <label class="field-label">Name</label>
                                <input id="product-edit-name" type="text" class="field-input" autocomplete="off">
                            </div>
                            <div class="field">
                                <label class="field-label">SKU</label>
                                <input id="product-edit-sku" type="text" class="field-input" autocomplete="off">
                            </div>
                        </div>
                        <div class="two-col">
                            <div class="field">
                                <label class="field-label">Buying Price (‡ß≥)</label>
                                <input id="product-edit-buy" type="number" class="field-input" min="0" step="1">
                            </div>
                            <div class="field">
                                <label class="field-label">Selling Price (‡ß≥)</label>
                                <input id="product-edit-sell" type="number" class="field-input" min="0" step="1">
                            </div>
                        </div>
                        <div class="two-col">
                            <div class="field">
                                <label class="field-label">Stock</label>
                                <input id="product-edit-stock" type="number" class="field-input" min="0" step="1">
                            </div>
                            <div class="field">
                                <label class="field-label">Low stock alert at</label>
                                <input id="product-edit-low" type="number" class="field-input" min="0" step="1">
                            </div>
                        </div>
                        <div class="input-row">
                            <button id="btn-save-product" class="btn btn-primary btn-xl" type="button">
                                üíæ Save product
                            </button>
                            <button id="btn-new-product" class="btn btn-ghost btn-xl" type="button">
                                + New
                            </button>
                        </div>
                        <p class="hint-text">
                            Low stock products will be highlighted with warning badge.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB: SALES (LIST / FILTER) -->
        <div id="tab-sales" class="tab-content hidden">
            <div class="card card-full">
                <div class="card-header">
                    <h2 class="card-title">
                        All Sales
                        <span class="subheader-bn">¬∑ ‡¶∏‡¶¨ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü</span>
                    </h2>
                    <p class="card-sub">
                        Filter by date range, status, salesperson, customer.
                    </p>
                </div>
                <div class="card-body stack-gap">
                    <div class="filter-row wrap">
                        <div class="field small-field">
                            <label class="field-label">From date</label>
                            <input id="sales-filter-from" type="date" class="field-input field-input-sm">
                        </div>
                        <div class="field small-field">
                            <label class="field-label">To date</label>
                            <input id="sales-filter-to" type="date" class="field-input field-input-sm">
                        </div>
                        <div class="field small-field">
                            <label class="field-label">Status</label>
                            <select id="sales-filter-status" class="field-input field-input-sm">
                                <option value="all">All</option>
                                <option value="open">Open</option>
                                <option value="closed">Closed</option>
                            </select>
                        </div>
                        <div class="field small-field">
                            <label class="field-label">Salesperson</label>
                            <select id="sales-filter-user" class="field-input field-input-sm">
                                <option value="all">All</option>
                            </select>
                        </div>
                        <div class="field grow">
                            <label class="field-label">Search (customer, phone, sale ID)</label>
                            <input id="sales-filter-query" type="text" class="field-input field-input-sm" autocomplete="off">
                        </div>
                        <button id="btn-sales-clear-filters" class="btn btn-ghost btn-xl" type="button">
                            ‚ü≥ Clear filters
                        </button>
                    </div>
                    <div class="table-wrapper table-tall">
                        <table>
                            <thead>
                            <tr>
                                <th style="width: 16%;">Date / Time</th>
                                <th style="width: 18%;">Customer</th>
                                <th>Phone</th>
                                <th>Salesperson</th>
                                <th>Status</th>
                                <th>Items</th>
                                <th>Total (‡ß≥)</th>
                                <th>Profit (‡ß≥)</th>
                            </tr>
                            </thead>
                            <tbody id="sales-table-body">
                            <!-- Filled by JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB: REPORTS -->
        <div id="tab-reports" class="tab-content hidden">
            <div class="grid-two">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">
                            KPIs &amp; Chart
                            <span class="subheader-bn">¬∑ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂</span>
                        </h2>
                        <p class="card-sub">
                            Total sales, today‚Äôs sales, customers, and profit.
                        </p>
                    </div>
                    <div class="card-body stack-gap">
                        <div class="kpi-grid">
                            <div class="kpi-card">
                                <div class="kpi-label">Total sales value ¬∑ ‡¶Æ‡ßã‡¶ü ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü</div>
                                <div id="kpi-total-sales" class="kpi-value">‡ß≥ 0.00</div>
                                <div id="kpi-total-sales-count" class="kpi-sub">0 invoices</div>
                            </div>
                            <div class="kpi-card">
                                <div class="kpi-label">Today‚Äôs sales ¬∑ ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü</div>
                                <div id="kpi-today-sales" class="kpi-value">‡ß≥ 0.00</div>
                                <div id="kpi-today-sales-count" class="kpi-sub">0 invoices</div>
                            </div>
                            <div class="kpi-card">
                                <div class="kpi-label">Total profit ¬∑ ‡¶Æ‡ßã‡¶ü ‡¶≤‡¶æ‡¶≠</div>
                                <div id="kpi-total-profit" class="kpi-value">‡ß≥ 0.00</div>
                                <div id="kpi-profit-margin" class="kpi-sub">‚Äî</div>
                            </div>
                            <div class="kpi-card">
                                <div class="kpi-label">Customers ¬∑ ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ</div>
                                <div id="kpi-customers-count" class="kpi-value">0</div>
                                <div class="kpi-sub">Unique phone numbers</div>
                            </div>
                            <div class="kpi-card">
                                <div class="kpi-label">Open sales ¬∑ ‡¶ö‡¶≤‡¶Æ‡¶æ‡¶® ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü</div>
                                <div id="kpi-open-sales" class="kpi-value">0</div>
                                <div class="kpi-sub">Can be resumed</div>
                            </div>
                        </div>
                        <div class="field">
                            <label class="field-label">
                                Last 7 days chart ¬∑ ‡¶ó‡¶§ ‡ß≠ ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡ßü
                            </label>
                            <canvas id="salesChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="card card-printable-report">
                    <div class="card-header">
                        <h2 class="card-title">
                            Export / Print Report
                            <span class="subheader-bn">¬∑ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü</span>
                        </h2>
                        <p class="card-sub">
                            Export sales report as CSV or print a clean summary.
                        </p>
                    </div>
                    <div class="card-body stack-gap">
                        <div class="field">
                            <label class="field-label">
                                Report period
                            </label>
                            <div class="filter-row">
                                <input id="report-from" type="date" class="field-input field-input-sm">
                                <input id="report-to" type="date" class="field-input field-input-sm">
                            </div>
                        </div>
                        <div class="input-row">
                            <button id="btn-export-csv" class="btn btn-primary btn-xl" type="button">
                                ‚¨á Export CSV
                            </button>
                            <button id="btn-print-report" class="btn btn-ghost btn-xl" type="button">
                                üñ® Print report
                            </button>
                        </div>
                        <div id="report-print-area" class="report-print-area">
                            <h2>Sales report</h2>
                            <p id="report-print-period">Period: ‚Äî</p>
                            <table class="report-print-table">
                                <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Invoices</th>
                                    <th>Total (‡ß≥)</th>
                                    <th>Profit (‡ß≥)</th>
                                </tr>
                                </thead>
                                <tbody id="report-print-body">
                                <!-- Filled by JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB: ADMIN (SETTINGS / USERS / BACKUP) -->
        <div id="tab-admin" class="tab-content hidden">
            <div class="grid-two">
                <!-- SHOP SETTINGS -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">
                            Shop Settings
                            <span class="subheader-bn">¬∑ ‡¶¶‡ßã‡¶ï‡¶æ‡¶® ‡¶§‡¶•‡ßç‡¶Ø</span>
                        </h2>
                        <p class="card-sub">
                            Set shop name, address, phone. Used in header and receipts.
                        </p>
                    </div>
                    <div class="card-body stack-gap">
                        <div class="field">
                            <label class="field-label">Shop Name</label>
                            <input id="shop-name" type="text" class="field-input" autocomplete="off">
                        </div>
                        <div class="field">
                            <label class="field-label">Address</label>
                            <input id="shop-address" type="text" class="field-input" autocomplete="off">
                        </div>
                        <div class="field">
                            <label class="field-label">Phone</label>
                            <input id="shop-phone" type="text" class="field-input" autocomplete="off">
                        </div>
                        <button id="btn-save-shop-settings" class="btn btn-primary btn-xl" type="button">
                            üíæ Save settings
                        </button>
                    </div>
                </div>

                <!-- USERS MANAGEMENT -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">
                            Users &amp; Roles
                            <span class="subheader-bn">¬∑ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ</span>
                        </h2>
                        <p class="card-sub">
                            Manage Superadmin and Salesperson accounts.
                        </p>
                    </div>
                    <div class="card-body stack-gap">
                        <div class="table-wrapper small-table">
                            <table>
                                <thead>
                                <tr>
                                    <th style="width: 30%;">Name</th>
                                    <th>Username</th>
                                    <th>Role</th>
                                </tr>
                                </thead>
                                <tbody id="users-table-body">
                                <!-- Filled by JS -->
                                </tbody>
                            </table>
                        </div>
                        <div class="two-col">
                            <div class="field">
                                <label class="field-label">Name</label>
                                <input id="user-edit-name" type="text" class="field-input" autocomplete="off">
                            </div>
                            <div class="field">
                                <label class="field-label">Username</label>
                                <input id="user-edit-username" type="text" class="field-input" autocomplete="off">
                            </div>
                        </div>
                        <div class="two-col">
                            <div class="field">
                                <label class="field-label">PIN</label>
                                <input id="user-edit-pin" type="password" class="field-input" maxlength="6" autocomplete="off">
                            </div>
                            <div class="field">
                                <label class="field-label">Role</label>
                                <select id="user-edit-role" class="field-input">
                                    <option value="sales">Salesperson</option>
                                    <option value="superadmin">Superadmin</option>
                                </select>
                            </div>
                        </div>
                        <div class="input-row">
                            <button id="btn-save-user" class="btn btn-primary btn-xl" type="button">
                                üíæ Save user
                            </button>
                            <button id="btn-new-user" class="btn btn-ghost btn-xl" type="button">
                                + New
                            </button>
                        </div>
                        <p class="hint-text">
                            Username is unique. Changing PIN will overwrite existing.
                        </p>
                    </div>
                </div>
            </div>

            <!-- BACKUP / RESTORE -->
            <div class="card card-full">
                <div class="card-header">
                    <h2 class="card-title">
                        Backup &amp; Restore
                        <span class="subheader-bn">¬∑ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™</span>
                    </h2>
                    <p class="card-sub">
                        Download a JSON backup of products, customers, sales, users, and settings.
                        Restore only if you trust the file.
                    </p>
                </div>
                <div class="card-body stack-gap">
                    <div class="input-row">
                        <button id="btn-backup-download" class="btn btn-primary btn-xl" type="button">
                            ‚¨á Download backup (JSON)
                        </button>
                        <label class="btn btn-ghost btn-xl file-label">
                            ‚¨Ü Restore from file
                            <input id="backup-file-input" type="file" accept=".json" hidden>
                        </label>
                    </div>
                    <p class="hint-text">
                        Backup includes: users, products, customers, sales, and shop settings. Restoring will replace
                        current local data.
                    </p>
                </div>
            </div>
        </div>
    </section>
</div>

<!-- Toast container -->
<div id="toast-container"></div>

<!-- Core application logic -->
<script src="app.js"></script>
</body>
</html>
